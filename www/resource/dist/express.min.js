!function(e){function s(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}var t={};return s.m=e,s.c=t,s.p="",s(0)}([function(e,s,t){t(1)},function(e,s){function t(e,s){$.ajax({url:"/Admin/Express/getExpressRecord",type:"post",data:{id:e,page:s},success:function(e){var e=JSON.parse(e);o.record=e.data,o.count=e.count}})}function r(e,s,r){$(".page-expressRecord").bootpag({total:s,page:r}).on("page",function(s,r){t(e,r)})}function a(e){$.ajax({url:"/Admin/express/filter",type:"post",data:e,success:function(e){o.express=JSON.parse(e).data}})}function n(e,s){$(".page-selection-top, .page-selection-bottom").bootpag({total:s,page:1,maxVisible:30}).on("page",function(s,t){a({pagenum:t,fliterjson:e})})}var o=new Vue({el:"#expresslist",data:{express:expressJSON.data,forms:{},record:[],count:null,index:null},filters:{state2show:function(e){switch(e){case 1:return"在职";case 0:return"离职"}},power2show:function(e){switch(e){case 1:return"组长";case 0:return"职员"}},sex:function(e){return e?"男":"女"}},methods:{addExpress:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,s=/^1\d{10}$/,t=this;for(var r in this.forms)if(""===this.forms[r]){switch(r){case"name":alert("名字为必填");break;case"idcard":alert("身份证为必填");break;case"phonenum":alert("手机号为必填");break;case"address":alert("地址为必填");break;case"power":alert("权级需要明确")}return!1}return 0==e.test(this.forms.idcard)?(alert("身份证格式不合法，请检查"),!1):s.test(this.forms.phonenum)?void $.ajax({url:"/Admin/Express/addnewexpress",type:"POST",data:{data:JSON.stringify(this.forms)},success:function(e){$("#formInfo").modal("hide"),console.log(e),"edit"==e.data.action?t.express.$set(t.index,t.forms):t.express.unshift(t.forms)}}):(alert("手机号码格式不正确"),!1)},chooseDel:function(e,s){this.delId=e,this.delIndex=s},delExpress:function(){var e=this;$.ajax({url:"/Admin/Express/delexpress",type:"POST",data:{id:this.delId},success:function(s){$("#delExpress").modal("hide"),e.express.$remove(e.delIndex)}})},expressInfo:function(e,s){this.forms=e,this.index=s},expressRecord:function(e){var s=this;$.ajax({url:"/Admin/Express/getExpressRecord",type:"POST",data:{id:e},success:function(t){var t=JSON.parse(t);s.record=t.data,s.count=t.count,r(e,t.total,t.page)}})}}});n({},total)}]);